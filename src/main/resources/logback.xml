<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <!-- Console appender for development/debugging -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%-5level] [%logger{0}] %msg%kvp%n</pattern>
        </encoder>
    </appender>

    <!-- Chat appender for in-game messages -->
    <appender name="CHAT" class="maestro.utils.chat.ChatAppender" />

    <!--
        Maestro category loggers are configured programmatically.
        See: maestro.api.utils.LoggerConfigurator

        All category loggers (path, swim, combat, mine, farm, build, cache,
        move, rotation, event, cmd, api, waypoint, inventory) receive:
        - Level: DEBUG
        - Appenders: CONSOLE + CHAT
        - Additivity: false (no propagation to root logger)

        Adding a new category only requires updating MaestroLogger.CATEGORIES.
    -->

    <!-- Root logger for all other logs
         Note: CHAT appender attached here so LoggerConfigurator can retrieve it,
         but non-Maestro logs are filtered out by ChatAppender's internal filter -->
    <root level="INFO">
        <appender-ref ref="CONSOLE" />
        <appender-ref ref="CHAT" />
    </root>
</configuration>
